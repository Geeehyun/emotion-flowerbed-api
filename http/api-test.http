### Emotion Flowerbed API Test
### Base URL: http://localhost:8080/api

### ========================================
### ì¸ì¦ API (Auth)
### ========================================

### ë¡œê·¸ì¸
POST http://localhost:8080/api/v1/auth/login
Content-Type: application/json

{
  "userId": "student2",
  "password": "1234"
}

> {%
    client.test('ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸', () => {
        if(response.status === 200) {
            client.global.set('accessToken', response.body.accessToken);
            client.global.set('refreshToken', response.body.refreshToken);
            client.log(`ì¸ì¦ ì„±ê³µ : ${response.body.accessToken} / ${response.body.refreshToken}`);
            client.assert(true);
        } else {
            client.log('ì¸ì¦ ì‹¤íŒ¨');
            client.assert(false);
            client.exit();
        }
    })
%}

### ë¡œê·¸ì•„ì›ƒ (ì¸ì¦ í•„ìš”)
# @name logout
POST http://localhost:8080/api/v1/auth/logout
Authorization: Bearer {{accessToken}}

### Access Token ê°±ì‹ 
POST http://localhost:8080/api/v1/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### ========================================
### ì¼ê¸° API (Diary)
### ========================================

### ì¼ê¸° ì‘ì„±
POST http://localhost:8080/api/v1/diaries
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "diaryDate": "2025-12-09",
  "content": "ì˜¤ëŠ˜ ì¹œêµ¬ì™€ ë§›ìˆëŠ” ì €ë…ì„ ë¨¹ì—ˆë‹¤. ì˜¤ëœë§Œì— ë§Œë‚˜ì„œ ì •ë§ ì¦ê±°ì› ê³ , ëŒ€í™”ë¥¼ ë‚˜ëˆ„ë©´ì„œ ë§ì€ ìœ„ë¡œë¥¼ ë°›ì•˜ë‹¤. í˜ë“  ì¼ì´ ìˆì—ˆì§€ë§Œ ì¹œêµ¬ ë•ë¶„ì— ê¸°ë¶„ì´ ë§ì´ ì¢‹ì•„ì¡Œë‹¤."
}

### ì¼ê¸° ê°ì • ë¶„ì„ (ì‹¤ì œ - Claude API ì‚¬ìš©)
POST http://localhost:8080/api/v1/diaries/1/analyze
Authorization: Bearer {{accessToken}}
Content-Type: application/json

### ì¼ê¸° ê°ì • ë¶„ì„ (í…ŒìŠ¤íŠ¸ ëª¨ë“œ - ëœë¤ ìƒì„±)
POST http://localhost:8080/api/v1/diaries/1/analyze-test
Authorization: Bearer {{accessToken}}
Content-Type: application/json

### ì¼ê¸° ìƒì„¸ ì¡°íšŒ
GET http://localhost:8080/api/v1/diaries/60
Authorization: Bearer {{accessToken}}

### íŠ¹ì • ë‚ ì§œ ì¼ê¸° ì¡°íšŒ
GET http://localhost:8080/api/v1/diaries/date/2025-12-09
Authorization: Bearer {{accessToken}}

### ì›”ë³„ ì¼ê¸° ëª©ë¡ ì¡°íšŒ (ê½ƒ ìƒì„¸ì •ë³´ í¬í•¨)
GET http://localhost:8080/api/v1/diaries?yearMonth=2025-12
Authorization: Bearer {{accessToken}}

### ì¼ê¸° ìˆ˜ì •
# TODO ìˆ˜ì •ë˜ë©´ ê¸°ì¡´ ë¶„ì„ ë‚´ìš© ë‚ ë ¤ì•¼í• ë“¯
PUT http://localhost:8080/api/v1/diaries/60
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "content": "ì˜¤ëŠ˜ ì¹œêµ¬ì™€ ë§›ìˆëŠ” ì €ë…ì„ ë¨¹ì—ˆë‹¤. ì •ë§ í–‰ë³µí•œ í•˜ë£¨ì˜€ë‹¤. (ìˆ˜ì •ë¨)"
}

### ì¼ê¸° ì‚­ì œ (Soft Delete)
# TODO responseê°€ ì—†ë‹¤? ì›ë˜ RESTfulì€ ê·¸ëŸ°ê²ƒì¸ê°€?
DELETE http://localhost:8080/api/v1/diaries/60
Authorization: Bearer {{accessToken}}


### ========================================
### ê½ƒ ì •ë³´ API (Flower)
### ========================================

### ì‚¬ìš©ìì˜ ê°ì •&ê½ƒ í†µê³„ ì¡°íšŒ (ë‚ ì§œ ëª©ë¡ + ê½ƒ ìƒì„¸ì •ë³´ í¬í•¨)
GET http://localhost:8080/api/v1/flowers/my-emotions
Authorization: Bearer {{accessToken}}

### ì „ì²´ ê°ì •-ê½ƒ ì •ë³´ ì¡°íšŒ (display_order ìˆœ)
GET http://localhost:8080/api/v1/flowers/all-emotions
Authorization: Bearer {{accessToken}}


### ========================================
### ê³µí†µ ì½”ë“œ API (Code)
### ========================================

### ëª¨ë“  ì½”ë“œ ê·¸ë£¹ ì¡°íšŒ (ì½”ë“œ í¬í•¨)
GET http://localhost:8080/api/v1/codes/groups
Authorization: Bearer {{accessToken}}

### íŠ¹ì • ì½”ë“œ ê·¸ë£¹ ì¡°íšŒ (USER_TYPE)
GET http://localhost:8080/api/v1/codes/groups/USER_TYPE
Authorization: Bearer {{accessToken}}

### íŠ¹ì • ì½”ë“œ ê·¸ë£¹ ì¡°íšŒ (EMOTION_CONTROL)
GET http://localhost:8080/api/v1/codes/groups/EMOTION_CONTROL
Authorization: Bearer {{accessToken}}

### USER_TYPE ì½”ë“œ ëª©ë¡ ì¡°íšŒ
GET http://localhost:8080/api/v1/codes/USER_TYPE
Authorization: Bearer {{accessToken}}

### EMOTION_CONTROL ì½”ë“œ ëª©ë¡ ì¡°íšŒ
GET http://localhost:8080/api/v1/codes/EMOTION_CONTROL
Authorization: Bearer {{accessToken}}

### íŠ¹ì • ì½”ë“œ ì¡°íšŒ (USER_TYPE/STUDENT)
GET http://localhost:8080/api/v1/codes/USER_TYPE/STUDENT
Authorization: Bearer {{accessToken}}

### ì‚¬ìš©ì ìœ í˜• ì½”ë“œ ëª©ë¡ (ë‹¨ì¶• URL)
GET http://localhost:8080/api/v1/codes/user-types
Authorization: Bearer {{accessToken}}

### ê°ì • ì œì–´ í™œë™ ì½”ë“œ ëª©ë¡ (ë‹¨ì¶• URL)
GET http://localhost:8080/api/v1/codes/emotion-controls
Authorization: Bearer {{accessToken}}


### ========================================
### ê°ì • ì¡°ì ˆ íŒ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
### ========================================
### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:
### 1. ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì—°ì† 3ì¼ ì¼ê¸° ì‘ì„± (ê°™ì€ area)
### 2. ê° ì¼ê¸°ë¥¼ ë¶„ì„í•˜ì—¬ ì—°ì† ì²´í¬
### 3. 3ì¼ì§¸ ì¼ê¸° ë¶„ì„ ì‹œ showEmotionControlTip=true í™•ì¸
### 4. ê°ì • ì¡°ì ˆ íŒ ì½”ë“œ ì¡°íšŒí•˜ì—¬ ì ì ˆí•œ ë©”ì‹œì§€ í™•ì¸
###
### âš ï¸ ì£¼ì˜: í…ŒìŠ¤íŠ¸ ì „ ë‚ ì§œë¥¼ ì˜¤ëŠ˜ ë‚ ì§œë¡œ ìˆ˜ì •í•˜ê³ ,
### ì´ì „ 2ì¼ì¹˜ ì¼ê¸°ë„ ê°™ì€ areaë¡œ ë¶„ì„ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

### 1ë‹¨ê³„: ì˜¤ëŠ˜-2ì¼ ì¼ê¸° ì‘ì„± ë° ë¶„ì„ (ì˜ˆ: 2025-12-24)
POST http://localhost:8080/api/v1/diaries
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "diaryDate": "2025-12-24",
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ í™”ê°€ ë‚¬ë‹¤. ëª¨ë“  ê²ƒì´ ëœ»ëŒ€ë¡œ ë˜ì§€ ì•Šì•„ì„œ ë„ˆë¬´ ë‹µë‹µí•˜ê³  ì§œì¦ì´ ë‚œë‹¤."
}

### ì˜¤ëŠ˜-2ì¼ ì¼ê¸° ë¶„ì„ (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
### âš ï¸ diaryIdë¥¼ ì‹¤ì œ ìƒì„±ëœ IDë¡œ ë³€ê²½ í•„ìš”
POST http://localhost:8080/api/v1/diaries/129/analyze-test
Authorization: Bearer {{accessToken}}

### 2ë‹¨ê³„: ì˜¤ëŠ˜-1ì¼ ì¼ê¸° ì‘ì„± ë° ë¶„ì„ (ì˜ˆ: 2025-12-25)
POST http://localhost:8080/api/v1/diaries
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "diaryDate": "2025-12-25",
  "content": "ì–´ì œì— ì´ì–´ ì˜¤ëŠ˜ë„ ê¸°ë¶„ì´ ì•ˆ ì¢‹ë‹¤. ê³„ì† í™”ê°€ ë‚˜ê³  ëª¨ë“  ê²Œ ì‹«ë‹¤."
}

### ì˜¤ëŠ˜-1ì¼ ì¼ê¸° ë¶„ì„ (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
### âš ï¸ diaryIdë¥¼ ì‹¤ì œ ìƒì„±ëœ IDë¡œ ë³€ê²½ í•„ìš”
POST http://localhost:8080/api/v1/diaries/130/analyze-test
Authorization: Bearer {{accessToken}}

### 3ë‹¨ê³„: ì˜¤ëŠ˜ ì¼ê¸° ì‘ì„± ë° ë¶„ì„ (ì˜ˆ: 2025-12-26)
### ğŸ¯ ì´ ì¼ê¸° ë¶„ì„ ì‹œ ê°ì • ì¡°ì ˆ íŒì´ í‘œì‹œë˜ì–´ì•¼ í•¨
POST http://localhost:8080/api/v1/diaries
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "diaryDate": "2025-12-26",
  "content": "3ì¼ì§¸ ê³„ì† í™”ê°€ ë‚œë‹¤. ì´ ê°ì •ì„ ì–´ë–»ê²Œ ë‹¤ìŠ¤ë ¤ì•¼ í• ì§€ ëª¨ë¥´ê² ë‹¤."
}

### ì˜¤ëŠ˜ ì¼ê¸° ë¶„ì„ (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
### âœ… ì˜ˆìƒ ê²°ê³¼:
### - showEmotionControlTip: true
### - consecutiveSameAreaDays: 3 (3ì¼ ì—°ì†) ë˜ëŠ” 5 (5ì¼ ì´ìƒ ì—°ì†)
### - repeatedEmotionArea: "red" (ë˜ëŠ” ì—°ì†ëœ area)
### âš ï¸ diaryIdë¥¼ ì‹¤ì œ ìƒì„±ëœ IDë¡œ ë³€ê²½ í•„ìš”
POST http://localhost:8080/api/v1/diaries/131/analyze-test
Authorization: Bearer {{accessToken}}

### 4ë‹¨ê³„: ê°ì • ì¡°ì ˆ íŒ ì½”ë“œ ì¡°íšŒ
### Responseì—ì„œ ë°›ì€ repeatedEmotionAreaì™€ consecutiveSameAreaDaysë¥¼ í™•ì¸í•˜ì—¬
### ì ì ˆí•œ ì½”ë“œë¥¼ ì°¾ìŠµë‹ˆë‹¤. (ì˜ˆ: RED_3, YELLOW_5 ë“±)
GET http://localhost:8080/api/v1/codes/EMOTION_CONTROL
Authorization: Bearer {{accessToken}}

### íŠ¹ì • ê°ì • ì¡°ì ˆ íŒ ì½”ë“œ ì¡°íšŒ ì˜ˆì‹œ (Red ì˜ì—­ 3ì¼ ì—°ì†)
GET http://localhost:8080/api/v1/codes/EMOTION_CONTROL/RED_3
Authorization: Bearer {{accessToken}}

### 5ë‹¨ê³„: ì—°ì†ì´ ëŠê¸´ ê²½ìš° í…ŒìŠ¤íŠ¸
### ë‹¤ë¥¸ areaì˜ ì¼ê¸°ë¥¼ ì‘ì„±í•˜ë©´ ì—°ì†ì´ ëŠê¹€
POST http://localhost:8080/api/v1/diaries
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "diaryDate": "2025-12-27",
  "content": "ì˜¤ëŠ˜ì€ ê¸°ë¶„ì´ ì¢‹ë‹¤. ì¹œêµ¬ë“¤ê³¼ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ëƒˆë‹¤."
}

### ì—°ì†ì´ ëŠê¸´ ì¼ê¸° ë¶„ì„
### âœ… ì˜ˆìƒ ê²°ê³¼:
### - showEmotionControlTip: false
### - consecutiveSameAreaDays: null
### - repeatedEmotionArea: null
### âš ï¸ diaryIdë¥¼ ì‹¤ì œ ìƒì„±ëœ IDë¡œ ë³€ê²½ í•„ìš”
POST http://localhost:8080/api/v1/diaries/104/analyze-test
Authorization: Bearer {{accessToken}}

###
### ğŸ“Œ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸:
### âœ… 3ì¼ ì—°ì† ê°™ì€ area â†’ showEmotionControlTip: true, consecutiveSameAreaDays: 3
### âœ… 5ì¼ ì—°ì† ê°™ì€ area â†’ showEmotionControlTip: true, consecutiveSameAreaDays: 5
### âœ… ì—°ì†ì´ ëŠê¸´ ê²½ìš° â†’ showEmotionControlTip: false
### âœ… ì˜¤ëŠ˜ì´ ì•„ë‹Œ ë‚ ì§œ â†’ showEmotionControlTip: false (ê³¼ê±° ì¼ê¸°ëŠ” íŒ í‘œì‹œ ì•ˆí•¨)
### âœ… ê°ì • ì¡°ì ˆ íŒ ì½”ë“œ ì¡°íšŒ â†’ code_nameì— ì ì ˆí•œ ë©”ì‹œì§€ í™•ì¸
###